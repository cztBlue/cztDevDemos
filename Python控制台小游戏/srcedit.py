import json
from dev import Map,Vector2,Animation

# è¿™ä¸ªä»£ç ç”¨æ¥ç”Ÿæˆmapï¼ŒåŠ¨ç”»ï¼Œç«‹ç»˜ç­‰æ•°æ®ï¼Œæ‰“åŒ…æˆjson,æ ¼å¼
'''
src.jsonç»“æ„:
data
â”œâ”€â”€ map
â”‚   â”œâ”€â”€ mapid1
â”‚   â”‚   â”œâ”€â”€ name:str
â”‚   â”‚   â”œâ”€â”€ basegrid:list
â”‚   â”‚   â”œâ”€â”€ mapid:int
â”‚   â”‚   â””â”€â”€ birthpos:list
â”‚   â”œâ”€â”€ mapid2
â”‚   â””â”€â”€ ...
â””â”€â”€ character
'''

data= {
    "map":{},
    "character":{}
}

# ä¼ å…¥mapå¯¹è±¡,å‘dataä¸­æ·»åŠ ä¸€ä¸ªjsonåŒ…
def add_map_package(imap:Map):
    data["map"][str(imap.mapid)] ={
        "name": imap.prefabname,
        "mapid": imap.mapid,
        "basegrid": imap.basegrid,
        "birthpos": imap.maze_size.tolist(),
    }


#RUN
g1 = [
        ["â¬›", "â¬†ï¸ ", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›","â¬›","â¬›","â¬›","â¬›","â¬›","â¬›","â¬›"],
        ["â¬›", "â¬œ", "ğŸ¦‡", "â¬œ", "â¬œ", "ğŸ¦‡", "â¬œ", "â¬œ", "ğŸ¦‡", "â¬œ","â¬œ","â¬œ","â¬›","ğŸ‘º","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›","â¬›","â¬œ","â¬›","â¬›","â¬›","â¬œ","â¬›"],
        ["â¬›", "â¬›", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ","â¬œ","â¬œ","â¬œ","â¬œ","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬œ", "â¬œ", "â¬›", "ğŸ‘¹", "â¬œ", "â¬›","â¬œ","â¬œ","â¬œ","â¬œ","â¬œ","â¬œ","â¬›"],
        ["â¬›", "ğŸ¦‡", "â¬›", "ğŸ‘¿", "â¬›", "ğŸ‘º", "â¬›", "ğŸ‘º", "ğŸ‘¹", "â¬›","ğŸ‘¿","â¬›","â¬œ","â¬›","â¬›","â¬›","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬›","â¬œ","â¬›","â¬œ","â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬œ", "ğŸ¦‡","â¬œ","â¬›","â¬œ","â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬›","â¬œ","â¬œ","â¬œ","ğŸ‘¿","â¬œ","â¬œ","â¬‡ï¸"],
        ["â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›","â¬›","â¬›","â¬›","â¬›","â¬›","â¬›","â¬›"],
    ]

g2 = [
        ["â¬›", "â¬†ï¸", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›","â¬›","â¬›","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬œ","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬›", "â¬›","â¬›","â¬œ","â¬›"],
        ["â¬›", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬›", "â¬›", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬›", "â¬›", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬›", "â¬œ", "â¬›","â¬›","â¬›","â¬›"],
        ["â¬›", "â¬œ", "â¬›", "â¬›", "â¬œ", "â¬›", "â¬›", "â¬›", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "ğŸ¦‡", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬›", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬œ", "â¬œ", "â¬›", "â¬œ", "â¬œ", "â¬œ", "â¬›", "â¬›", "â¬›","â¬œ","â¬œ","â¬›"],
        ["â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›", "â¬›","â¬›","â¬›","â¬›"],
    ]

add_map_package(Map(prefabname="åœ°ä¸‹ä¸€å±‚",mapid = 1,basegrid=g1,birthpos=Vector2(1,1)))
add_map_package(Map(prefabname="åœ°ä¸‹äºŒå±‚",mapid = 2,basegrid=g2,birthpos=Vector2(1,1)))

def Save(data):
    with open("src.json", "w") as json_file:
        json.dump(data, json_file)
Save(data)


    
